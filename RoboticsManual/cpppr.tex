

\section{Příklady programů v C++}   \label{cpppr}

Ve všech příkladech níže je uveden vždy obsah souboru {\it main.cpp}. 
Text předpokládá, že nad příklady budete samostatně přemýšlet a~učit se z~nich, proto se to, co bylo řečeno u~prvního příkladu, už neopakuje u~druhého.  
Doporučuji projít soubory {\it LearningKit.h}
a~{\it LearningKit.cpp} (viz v~\hyperlink{explorer}{Exploreru}
adresář {\it .piolibdeps/ArduinoLearningKitStarter\_ID1745/src} ), protože jsou v~nich zkratky typu {\tt L\_R} a~jejich přiřazení pinům čipu.

Zdrojové soubory všech příkladů z této kapitoly jsou umístěny
\href{https://github.com/RoboticsBrno/RoboticsBrno-guides/tree/RoboticsManual/RoboticsManual/priklady_c}{zde}.


Další příklady jsou na \url{http://wall.robotikabrno.cz} a~\url{https://www.arduino.cc/reference/en/}.  

\label{cpppr1} \subsection{Blikání LED} 

Program bliká červnenou LED.   

\lstinputlisting{priklady_c/blikani_LED1.cpp}


\label{cpppr2} \subsection{LED zapínaná tlačítkem} 

Žlutá LED zapínaná tlačítkem.  

\lstinputlisting{priklady_c/zapnuti_LED1.cpp}


\label{cpppr3} \subsection{Nejjednodušší PWM} 

\hyperref[PWM]{PWM}  \index{PWM} umožňuje (ve spolupráci
s~\hyperref[driver]{drivery}) řídit motory, serva a~podobně. Zde je použito na stmívání LED pomocí potenciometru.


\lstinputlisting{priklady_c/PWM_01.cpp}

Výše uvedený kód funguje pro čip ESP32. Pro čipy řady ATMega, které jsou na deskách Arduino uno, Arduino nano a Arduino Mega je možné použít například následující kód: 

\lstinputlisting{priklady_c/PWM_02.cpp}
 
Funguje stejně, ale místo příkazu {\tt ledcWrite()} je použit {\tt analogWrite()}.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Infrasenzor na čáru} \label{prog:qrd1114}

Použijeme součástku \hyperref[qrd1114]{QRD1114}, kolektor (C) je připojený na A0. Zdrojový kód je pro Arduino Uno. 

\lstinputlisting{priklady_c/qrd1114.cpp}

\subsection{Posílání dat pro Lorris po sériové lince} \label{prog:lorris}

Příklad ukazuje posílání dat do Analyzéru pro \hyperref[lorris]{Lorris}.
 Posílá simulovaný barevný senzor, potenciometr, tlačítka binárně a tlačítka po bytech. 

Zdrojový kód je tentokrát pro Arduino nano umístěné na desce ALKS a používá knihovny
{\tt LearningKit.h}  a  {\tt LearningKit\_nano.h}. 

\lstinputlisting{priklady_c/lorris_data.cpp}

